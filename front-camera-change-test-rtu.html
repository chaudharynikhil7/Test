<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dynamsoft Barcode Scanner</title>
    <script src="https://cdn.jsdelivr.net/npm/dynamsoft-barcode-reader-bundle@11.2.2000/dist/dbr.bundle.js"></script>
  </head>

  <body>
    <script>
      const barcodeScannerConfig = {
        license:
          "DLS2eyJoYW5kc2hha2VDb2RlIjoiMTAwMTg0NTA5LVRYbFhaV0pRY205cSIsIm1haW5TZXJ2ZXJVUkwiOiJodHRwczovL21kbHMuZHluYW1zb2Z0b25saW5lLmNvbS8iLCJvcmdhbml6YXRpb25JRCI6IjEwMDE4NDUwOSIsInN0YW5kYnlTZXJ2ZXJVUkwiOiJodHRwczovL3NkbHMuZHluYW1zb2Z0b25saW5lLmNvbS8iLCJjaGVja0NvZGUiOjEzNDQxNjc1MDB9",
        scanMode: Dynamsoft.EnumScanMode.SM_MULTI_UNIQUE,
        showResultView: true,
        // Configure camera constraints to select front/back camera
        cameraEnhancerConfig: {
          videoConstraints: {
            facingMode: { ideal: "user" }, // "user" = front camera, "environment" = back camera
            width: { ideal: 1280 },
            height: { ideal: 720 },
          },
        },
      };

      const barcodeScanner = new Dynamsoft.BarcodeScanner(barcodeScannerConfig);

      (async () => {
        try {
          await barcodeScanner.launch();
        } catch (error) {
          console.error("Error launching scanner:", error);
        }
      })();
    </script>
  </body>
</html>
